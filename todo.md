# Nivaの想映 (Niva's Souei) - Project TODO

## データベース・バックエンド
- [x] DBスキーマ設計（users, works, tags, work_tags, likes, comments, tools, work_tools, inquiries）
- [x] 作品CRUD API実装
- [x] タグ管理API実装
- [x] いいねAPI実装（匿名対応・レート制限）
- [x] コメントAPI実装（ログイン必須・レート制限）
- [x] 検索API実装（タグ・キーワード・カテゴリ・フィルタ）
- [x] 依頼フォームAPI実装
- [x] ツール管理API実装
- [x] ファイルアップロードAPI実装

## フロントエンド共通
- [x] グローバルレイアウト・ナビゲーション実装
- [x] テーマ・カラーパレット設定
- [x] レスポンシブデザイン対応

## ページ実装
- [x] ホームページ（新着・人気作品、思想・サービス導線）
- [x] 作品一覧ページ（カテゴリタブ、検索、フィルタ、ソート）
- [x] 作品詳細ページ（メディア表示、バッジ、メタ情報、CTA、いいね、コメント）
- [x] SNSリンク集ページ
- [x] サービス紹介ページ（Spot/Standard/Grand）
- [x] Nivaの想映（思想ページ）
- [x] ツール一覧ページ
- [x] 依頼フォームページ（ヒアリングシート生成機能）
- [x] ログイン/プロフィールページ
- [x] 作品投稿ページ（メディアアップロード、タグ自動候補、プロンプト設定）

## 機能実装
- [x] OAuth認証（Manus OAuth）
- [x] 匿名いいね機能（重複防止・レート制限）
- [x] コメント投稿機能（ログイン必須・連投制限）
- [x] タグ自動候補生成機能
- [x] 簡易ヒアリングシート生成機能
- [x] 投稿権限モード切替（Nivaのみ/全ユーザー）
- [x] プロンプト公開/非公開切替
- [x] 音楽作品の歌詞表示

## バッジ・表示
- [x] 受注/個人バッジ表示
- [x] サービス種別バッジ（Spot Concept/Standard Translation/Grand Story）
- [x] 使用AIツール表示

## テスト
- [x] バックエンドAPIテスト
- [x] フロントエンド動作確認


## バグ修正
- [x] APIエラー修正（HTMLが返される問題）- /worksページでtRPCがJSONではなくHTMLを受信 - サーバー再起動で解決

- [x] ダミーデータ投入と作品一覧表示確認

## 新規修正・機能追加
- [x] いいね機能の修正（いいねが反映されない問題）
- [x] 閲覧数カウント機能の修正
- [x] コメント削除機能の実装（投稿者が自分のコメントを削除できるように）
- [x] ヒアリングシート連携機能（作成したシートをお問い合わせフォームに反映）

## 作品編集・削除機能
- [x] バックエンドAPI修正（投稿者による編集・削除権限チェック）
- [x] 作品編集ページの実装（タイトル、説明、プロンプト、タグ、公開設定）
- [x] 作品詳細ページに編集・削除ボタン追加（投稿者のみ表示）
- [x] 作品削除確認ダイアログの実装
- [x] テストの追加

## カスタム通知機能
- [x] 通知用データベーススキーマの作成（notifications, push_subscriptions, email_notification_settings）
- [x] 通知用バックエンドAPI（tRPCルーター）の実装
- [x] トースト通知の強化（いいね、コメント、依頼成功時）
- [x] アプリ内通知センター（ヘッダーにベルアイコン、通知一覧表示）
- [x] プッシュ通知の実装（Service Worker、購読管理）
- [x] メール通知設定の実装（新しい依頼やコメント時）
- [x] 管理者への通知（新しい依頼時にサイトオーナーに通知）
- [x] テストの追加

## SendGridメール通知連携
- [ ] SendGrid APIキーの設定
- [ ] メール送信モジュールの実装
- [ ] メールテンプレートの作成（コメント通知、いいね通知、依頼通知）
- [ ] 通知トリガーへのメール送信統合
- [ ] テストの追加

## SNSリンク更新
- [x] InstagramリンクをNivaの実際のアカウントに更新
- [x] XリンクをNivaの実際のアカウントに更新
- [x] TikTokリンクをNivaの実際のアカウントに更新
- [x] FacebookリンクをNivaの実際のアカウントに更新
- [x] noteの項目をLINEに変更し、公式LINEリンクを紐付け
